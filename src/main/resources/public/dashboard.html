<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Scheduler – Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body data-require-auth>
  <header class="header">
    <div class="container">
      <div class="logo">
        <svg class="icon" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"/>
        </svg>
        <h1>Smart Scheduler</h1>
      </div>

      <nav class="nav">
        <a href="dashboard.html" class="active">Dashboard</a>
        <a href="rooms.html" data-role="admin">Rooms</a>
        <a href="bookings.html">Bookings</a>
        <a href="users.html" data-role="admin">Users</a>
        <a href="courses.html">Courses</a>
        <a href="timetable.html">Timetable</a>
        <a href="profile-settings.html">Profile</a>
        <a href="#" data-logout class="logout-link">Logout</a>
      </nav>

      <div class="actions">
        <button class="bell" id="notifications">
          <svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
            <path d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06Z"/>
          </svg>
        </button>
        <div class="avatar" id="profileMenu"></div>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="intro">
      <h2>Dashboard Overview</h2>
      <p>Welcome to Smart Scheduler — your central hub to manage courses, rooms, and timetables.</p>
    </section>

    <section class="stats">
      <div class="stat-card">
        <div class="stat-icon rooms">
          <svg viewBox="0 0 24 24">
            <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="roomCount">24</h3>
          <p>Total Rooms</p>
        </div>
        <div class="stat-change increase">+2 this week</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon courses">
          <svg viewBox="0 0 24 24">
            <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="courseCount">12</h3>
          <p>Active Courses</p>
        </div>
        <div class="stat-change increase">+3 this month</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bookings">
          <svg viewBox="0 0 24 24">
            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="bookingCount">37</h3>
          <p>Bookings This Week</p>
        </div>
        <div class="stat-change decrease">-5 vs last week</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon users">
          <svg viewBox="0 0 24 24">
            <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
          </svg>
        </div>
        <div class="stat-info">
          <h3 id="userCount">145</h3>
          <p>Registered Users</p>
        </div>
        <div class="stat-change increase">+12 this month</div>
      </div>
    </section>

    <!-- Analytics Section -->
    <section class="analytics-section">
      <div class="section-header">
        <h3>Analytics & Reports</h3>
        <div class="export-actions">
          <button class="btn-export" id="exportCSV">
            <svg class="export-icon" viewBox="0 0 24 24">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            Export CSV
          </button>
          <button class="btn-export" id="exportPDF">
            <svg class="export-icon" viewBox="0 0 24 24">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            Export PDF
          </button>
        </div>
      </div>

      <div class="analytics-grid">
        <!-- Room Utilization Chart -->
        <div class="card chart-card">
          <div class="card-header">
            <h4>Room Utilization</h4>
            <span class="chart-subtitle">Percentage of time rooms are booked</span>
          </div>
          <div class="chart-container">
            <canvas id="roomUtilizationChart"></canvas>
          </div>
        </div>

        <!-- Daily Classes Chart -->
        <div class="card chart-card">
          <div class="card-header">
            <h4>Classes by Day</h4>
            <span class="chart-subtitle">Total classes scheduled per day</span>
          </div>
          <div class="chart-container">
            <canvas id="dailyClassesChart"></canvas>
          </div>
        </div>

        <!-- Instructor Workload -->
        <div class="card chart-card">
          <div class="card-header">
            <h4>Instructor Workload</h4>
            <span class="chart-subtitle">Classes assigned per instructor</span>
          </div>
          <div class="chart-container">
            <canvas id="instructorWorkloadChart"></canvas>
          </div>
        </div>

        <!-- Time Slot Popularity -->
        <div class="card chart-card">
          <div class="card-header">
            <h4>Popular Time Slots</h4>
            <span class="chart-subtitle">Most frequently used time slots</span>
          </div>
          <div class="chart-container">
            <canvas id="timeSlotChart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <section class="dashboard-grid">
      <div class="card activity-card">
        <div class="card-header">
          <h3>Recent Activity</h3>
          <button class="view-all">View All</button>
        </div>
        <div class="activity-list">
          <!-- Activity items will be dynamically populated -->
        </div>
      </div>

      <div class="card schedule-card">
        <div class="card-header">
          <h3>Today's Schedule</h3>
          <button class="view-all">View Calendar</button>
        </div>
        <div class="schedule-list">
          <!-- Schedule items will be dynamically populated -->
        </div>
      </div>

      <!-- Analytics Summary Card -->
      <div class="card analytics-summary-card">
        <div class="card-header">
          <h3>Weekly Overview</h3>
          <button class="refresh-btn" id="refreshAnalytics">
            <svg viewBox="0 0 24 24">
              <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
            </svg>
          </button>
        </div>
        <div class="analytics-summary">
          <div class="summary-item">
            <span class="summary-label">Busiest Day:</span>
            <span class="summary-value" id="busiestDay">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Peak Time:</span>
            <span class="summary-value" id="peakTime">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Schedule Density:</span>
            <span class="summary-value" id="scheduleDensity">-</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Most Used Room:</span>
            <span class="summary-value" id="mostUsedRoom">-</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Smart Scheduler</p>
    </div>
  </footer>

  <script src="/js/session.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/dashboard.js"></script>
</body>
</html>


